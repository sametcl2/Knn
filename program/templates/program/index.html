<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <title>201713709034 - Samet Şahin</title>
  </head>
  <body>
    <form class="row m-5" method="post" action="hesapla">
      {% csrf_token %}
      <div class="col-md-6 col-sm-12">
        <div class="container">
          <div class="mb-4">
            <input
              type="number"
              class="form-control"
              placeholder="Yaş"
              aria-label="First name"
              name="yas"
            />
          </div>
          <div class="mb-4">
            <input
              type="number"
              class="form-control"
              placeholder="Tansiyon"
              aria-describedby="blood-pressure"
              name="blood-pressure"
            />
            <div class="form-text" id="blood-pressure">
              mm cinsinden giriniz
            </div>
          </div>
          <div class="mb-4">
            <input
              type="number"
              class="form-control"
              placeholder="Kolesterol"
              aria-describedby="cholestoral"
              name="cholestoral"
            />
          </div>
          <div class="mb-4">
            <input
              type="number"
              class="form-control"
              placeholder="Maksimum Kalp Atış Hızı"
              aria-describedby="max"
              name="max"
            />
          </div>
          <div class="mb-4">
            <label> Cinsiyet </label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="cinsiyet"
                id="inlineRadio1"
                value="0"
              />
              <label class="form-check-label" for="inlineRadio1">Kadın</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="cinsiyet"
                id="inlineRadio2"
                value="1"
              />
              <label class="form-check-label" for="inlineRadio2">Erkek</label>
            </div>
          </div>
          <div class="mb-4">
            <label>Egzersize Bağlı Angina Belirtisi Var Mı?</label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="angina"
                id="inlineRadio3"
                value="0"
              />
              <label class="form-check-label" for="inlineRadio3">Hayır</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="angina"
                id="inlineRadio4"
                value="1"
              />
              <label class="form-check-label" for="inlineRadio4">Evet</label>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-sm-12">
        <div class="container">
          <div class="mb-4">
            <label>Kan Şekeri 120mg'den Büyük Mü?</label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="blood-sugar"
                id="inlineRadio13"
                value="0"
              />
              <label class="form-check-label" for="inlineRadio13">Hayır</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="blood-sugar"
                id="inlineRadio14"
                value="1"
              />
              <label class="form-check-label" for="inlineRadio14">Evet</label>
            </div>
          </div>
          <div class="mb-4">
            <label>EKG Sonuçları</label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="EKG"
                id="inlineRadio15"
                value="0"
              />
              <label class="form-check-label" for="inlineRadio15">Normal</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="EKG"
                id="inlineRadio16"
                value="1"
              />
              <label class="form-check-label" for="inlineRadio16">
                ST-T Değeri Anormal
              </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="EKG"
                id="inlineRadio17"
                value="2"
              />
              <label class="form-check-label" for="inlineRadio17"
                >Muhtemel veya Kesin olarak Venticular Hipertrofi
                Gözlemlendi.</label
              >
            </div>
          </div>
          <div class="mb-4">
            <label>Talyum Test Sonucu</label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="thallium-result"
                id="inlineRadio5"
                value="0"
              />
              <label class="form-check-label" for="inlineRadio5">0</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="thallium-result"
                id="inlineRadio6"
                value="1"
              />
              <label class="form-check-label" for="inlineRadio6">1</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="thallium-result"
                id="inlineRadio7"
                value="2"
              />
              <label class="form-check-label" for="inlineRadio7">2</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="thallium-result"
                id="inlineRadio8"
                value="3"
              />
              <label class="form-check-label" for="inlineRadio8">3</label>
            </div>
          </div>
          <div class="mb-4">
            <label>Göğüs Ağrısı Çeşidi</label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="chest-pain-type"
                id="inlineRadio9"
                value="1"
              />
              <label class="form-check-label" for="inlineRadio9"
                >Kararlı Angina</label
              >
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="chest-pain-type"
                id="inlineRadio10"
                value="2"
              />
              <label class="form-check-label" for="inlineRadio10"
                >Kararsız Angina</label
              >
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="chest-pain-type"
                id="inlineRadio11"
                value="3"
              />
              <label class="form-check-label" for="inlineRadio11"
                >Angina Olmayan Ağrı</label
              >
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="chest-pain-type"
                id="inlineRadio12"
                value="4"
              />
              <label class="form-check-label" for="inlineRadio12"
                >Semptoma Bağlı Değil</label
              >
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center">
        <button class="btn btn-primary p-3">Onayla</button>
      </div>
    </form>
    <!-- Button trigger modal -->
    <div class="d-flex justify-content-center align-items-center">
      <button
        type="button"
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#staticBackdrop"
      >
        Tahmin Sonuçlarını Gör
      </button>
      <div
        class="modal fade"
        id="staticBackdrop"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">
                Tahmin Sonuçları
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="card text-dark bg-light mb-3">
                <div class="card-body">
                  {% if sonuc == "DÜŞÜK" %}
                  <h5 class="card-text text-success">
                    Kalp Krizi Geçirme Olasılığınız: {{sonuc}}
                  </h5>
                  {% elif sonuc == "YÜKSEK" %}
                  <h5 class="card-text text-danger">
                    Kalp Krizi Geçirme Olasılığınız: {{sonuc}}
                  </h5>
                  {% endif %}
                  <hr />
                  <h5 class="card-text">Doğruluk Oranı: {{acc}}</h5>
                </div>
              </div>
              <div class="card text-dark bg-light mb-3">
                <div class="card-body">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Actually Positive</th>
                        <th scope="col">Actually Negative</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">Predicted Positive</th>
                        <th>{{tp}}</th>
                        <th>{{fp}}</th>
                      </tr>
                      <tr>
                        <th scope="row">Predicted Negative</th>
                        <th>{{fn}}</th>
                        <th>{{tn}}</th>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="card text-dark bg-light mb-3">
                <div class="card-body">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Precision</th>
                        <th scope="col">Recall</th>
                        <th scope="col">F1-Score</th>
                        <th scope="col">Support</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">Düşük</th>
                        <th>{{sifir.precision|stringformat:".2f"}}</th>
                        <th>{{sifir_f1|stringformat:".2f"}}</th>
                        <th>{{sifir.recall|stringformat:".2f"}}</th>
                        <th>{{sifir.support|stringformat:".2f"}}</th>
                      </tr>
                      <tr>
                        <th scope="row">Yüksek</th>
                        <th>{{bir.precision|stringformat:".2f"}}</th>
                        <th>{{bir_f1|stringformat:".2f"}}</th>
                        <th>{{bir.recall|stringformat:".2f"}}</th>
                        <th>{{bir.support|stringformat:".2f"}}</th>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <a type="submit" class="btn btn-primary" href="/program">
                Yeni Tahmin Oluştur
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
